!function(e,t){e.DD=function(e){var r,a,n,o,d,i,s,l,c,g,f,u,v,p,h="is-dragging",L="is-drag-over",m="dragster-draggable",E="dragster-drag-region",A="dragster-drop-placeholder",y={elementSelector:".dragster-block",regionSelector:".dragster-region"},b="draggable",S="data-placeholder-position",q={top:!1,bottom:!1};for(r in e)e.hasOwnProperty(r)&&(y[r]=e[r]);d=Array.prototype.slice.call(t.querySelectorAll(y.elementSelector)),a=Array.prototype.slice.call(t.querySelectorAll(y.regionSelector)),n=function(e,t){var r=e.parentNode;return!r||e.classList&&e.classList.contains(E)?void 0:t(e)?e:t(r)?r:n(r,t)},f=function(e){var r=Array.prototype.slice.call(t.querySelectorAll(e));r.forEach(function(e){e.parentNode.removeChild(e)})},u=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},v=function(e,t){e.parentNode.insertBefore(t,e)},c=function(e){return e.classList&&e.classList.contains(m)},l={dragstart:function(e){var t=n(e.target,c);t.classList.add(h),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",t.innerHTML),o=t},dragend:function(e){var t=n(e.target,c);t&&(t.classList.remove(h),f("."+A),a.forEach(function(e){e.setAttribute(b,!1)}))},dragover:function(e){return e.preventDefault(),e.dataTransfer.dropEffect="move",!1},dragenter:function(e){var t=n(e.target,c);e.preventDefault(),e.dataTransfer.dropEffect="move",i!==t&&(i&&i.classList.remove(L),i=t),o!==t&&t.classList.add(L)},dragdrop:function(e){var t,r,a,d;return e.preventDefault(),e.dataTransfer.dropEffect="move",e.target.classList&&e.target.classList.contains(A)?t=r=e.target:(t=n(e.target,c),r=t.querySelector("."+A)),e.stopPropagation(),o!==t&&r&&(a=r.getAttribute(S),d=g(),d.innerHTML=e.dataTransfer.getData("text/html"),"top"===a?v(t,d):u(t,d),t.classList.remove(L),o.parentNode.removeChild(o)),f("."+A),!1}},g=function(){var e=t.createElement("div");return e.setAttribute(b,!0),e.classList.add(m),e.addEventListener("dragstart",l.dragstart,!1),e.addEventListener("dragend",l.dragend,!1),e.addEventListener("dragenter",l.dragenter,!1),e.addEventListener("dragover",l.dragover,!1),e.addEventListener("drop",l.dragdrop,!1),e},p=function(){var e=t.createElement("div");return e.classList.add(A),e.addEventListener("dragover",l.dragover,!1),e.addEventListener("drop",l.dragdrop,!1),e},s={dragover:function(e){var t,r,a=n(e.target,c),o=p();if(a){if(r=a.getBoundingClientRect(),t=r.height/2,a.classList.contains(h))return;e.clientY-r.top<t&&!q.top?(f("."+A),o.setAttribute(S,"top"),v(a.firstChild,o)):r.bottom-e.clientY<t&&!q.bottom&&(f("."+A),o.setAttribute(S,"bottom"),a.appendChild(o))}else if(0===this.querySelectorAll("."+m).length&&0===this.querySelectorAll("."+A).length)this.appendChild(o);else{if(0===this.querySelectorAll("."+m).length&&1===this.querySelectorAll("."+A).length)return;f("."+A)}}},d.forEach(function(e){var t=g(),r=e.parentNode;r.insertBefore(t,e),r.removeChild(e),t.appendChild(e)}),a.forEach(function(e){e.classList.add(E),e.addEventListener("dragover",s.dragover)})}}(window,window.document);